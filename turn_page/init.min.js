tyrano.plugin.kag.turn_page={ctrlArray:function(a){TYRANO.kag.stat.running_turn_page||(TYRANO.kag.stat.running_turn_page={}),TYRANO.kag.stat.running_turn_page.name?(console.error("[error] Only one turn page can be displayed."),TYRANO.kag.ftag.nextOrder()):(TYRANO.kag.stat.running_turn_page=a,console.log(TYRANO.kag.stat.running_turn_page))},showImage:function(a){for(var t=0;t<a.storage.length;t++){var e="./data/fgimage/"+a.storage[t];$(a.layer).append('<img class="bookBlockImg'+t+" "+a.name+'" src='+e+">"),$(".bookBlockImg"+t).css({position:"absolute",left:a.left+"px",top:a.top+"px",width:a.width+"px",height:a.height+"px",zIndex:t+1+Number(a.zindex),opacity:a.opacity})}},appendDiv:function(a){var t="."+a.name;$(t).wrapAll('<div id="bb-bookblock" class="bb-bookblock turn_page_base"></div>').css({left:"0px",top:"0px"}),$("#bb-bookblock").css({left:a.left+"px",top:a.top+"px",width:a.width+"px",height:a.height+"px",position:"absolute",zIndex:a.storage.length+Number(a.zindex),backgroundColor:"rbg(0,0,0)"}),$(t).wrap('<div class="bb-item" style="background-color:rgb(0,0,0);">')},bookBlock:function(a){$("#bb-bookblock").bookblock({orientation:a.orientation,direction:a.direction,speed:Number(a.speed),easing:a.easing,shadows:a.shadows,shadowSides:Number(a.shadowSides),shadowFlip:Number(a.shadowFlip),circular:a.circular})}},tyrano.plugin.kag.tag.turn_page={pm:{layer:"0",name:"turn_page_img",left:"0",top:"0",width:"0",height:"0",zindex:"0",opacity:"1",storage:"",orientation:"vertical",direction:"ltr",speed:"800",easing:"ease-in-out",shadows:"true",shadowSides:"0.2",shadowFlip:"0.1",circular:"false"},start:function(a){if(a.layer="."+a.layer+"_fore",a.storage instanceof Array);else{var t=a.storage;a.storage?a.storage=t.split(","):console.error("storage属性に正しく値が指定されていません。")}a.storage;a.speed=Number(a.speed),a.shadowSides=Number(a.shadowSides),a.shadowFlip=Number(a.shadowFlip),a.shadows=$.toBoolean(a.shadows),a.circular=$.toBoolean(a.circular);var e=this.kag.turn_page;e.ctrlArray(a),e.showImage(a),e.appendDiv(a),e.bookBlock(a),this.kag.ftag.nextOrder()}},tyrano.plugin.kag.tag.control_page={vital:["content"],pm:{content:"next"},start:function(a){"remove"==a.content?$("#bb-bookblock").remove():$("#bb-bookblock").bookblock(a.content),this.kag.ftag.nextOrder()}},tyrano.plugin.kag.tag.make_turn_page={start:function(a){var t=this.kag.stat.running_turn_page;t&&this.kag.turn_page.bookBlock(t),this.kag.ftag.nextOrder()}},tyrano.plugin.kag.tag.clear_turn_page={start:function(a){delete TYRANO.kag.stat.running_turn_page,this.kag.ftag.nextOrder()}},["turn_page","control_page","make_turn_page","clear_turn_page"].forEach(a=>{tyrano.plugin.kag.ftag.master_tag[a]=object(tyrano.plugin.kag.tag[a]),tyrano.plugin.kag.ftag.master_tag[a].kag=TYRANO.kag});